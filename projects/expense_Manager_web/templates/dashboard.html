{% extends 'base.html' %}
{% block content %}

<h2 class="mt-4">Category and Sub-Category Summary</h2>

<!-- Filter Form -->
<form method="POST" class="mb-4">
    <label for="start_date">Start Date:</label>
    <input type="date" id="start_date" name="start_date">

    <label for="end_date">End Date:</label>
    <input type="date" id="end_date" name="end_date">

    <label for="category">Category:</label>
    <select id="category" name="category">
        <option value="">All</option>
        {% for cat in categories %}
        <option value="{{ cat }}">{{ cat }}</option>
        {% endfor %}
    </select>

    <label for="sub_category">Sub-Category:</label>
    <select id="sub_category" name="sub_category">
        <option value="">All</option>
        {% for sub_cat in sub_categories %}
        <option value="{{ sub_cat }}">{{ sub_cat }}</option>
        {% endfor %}
    </select>

    <button type="submit" class="btn btn-primary">Filter</button>
</form>

<!-- Display Chart -->
{% if chart_base64 %}
    <img src="data:image/png;base64,{{ chart_base64 }}" alt="Expense Chart">
{% else %}
    <p>No data available.</p>
{% endif %}

{% endblock %}
