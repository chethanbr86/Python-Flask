
<h2 class="mt-4">Sub-Category and Description Summary</h2>

<!-- Dropdown Filter Form1 -->
<form method="GET" action="{{ url_for('category_summary') }}" class="mb-3">
    <label for="sub_category">Filter by Sub-Category - Expense:</label>
    <select name="sub_category" id="sub_category" class="form-select">
        {% for category in sub_categories1 %}
        <option value="{{ category }}" {% if category == selected_sub_category1 %}selected{% endif %}>
            {{ category }}
        </option>
        {% endfor %}
    </select>
    <button type="submit" class="btn btn-primary mt-2">Filter</button>
</form>

{% if sub_cat_des_summary1 %}
<table class="table table-bordered table-hover">
    <thead>
        <tr>
            <th scope="col">Sub-Category</th>
            <th scope="col">Description</th>
            <th scope="col">Total Amount</th>
        </tr>
    </thead>
    <tbody>
        {% for sub_category, desp, total_amount in sub_cat_des_summary1 %}
        <tr>
            <td>{{ sub_category }}</td>
            <td>{{ desp }}</td>
            <td>{{ total_amount | round(2) }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<p>No data available for the selected sub-category.</p>
{% endif %}

<!-- Dropdown Filter Form2 -->
<form method="GET" action="{{ url_for('category_summary') }}" class="mb-3">
    <label for="sub_category">Filter by Sub-Category - Saving:</label>
    <select name="sub_category" id="sub_category" class="form-select">
        {% for category in sub_categories2 %}
        <option value="{{ category }}" {% if category == selected_sub_category2 %}selected{% endif %}>
            {{ category }}
        </option>
        {% endfor %}
    </select>
    <button type="submit" class="btn btn-primary mt-2">Filter</button>
</form>

{% if sub_cat_des_summary2 %}
<table class="table table-bordered table-hover">
    <thead>
        <tr>
            <th scope="col">Sub-Category</th>
            <th scope="col">Description</th>
            <th scope="col">Total Amount</th>
        </tr>
    </thead>
    <tbody>
        {% for sub_category, desp, total_amount in sub_cat_des_summary2 %}
        <tr>
            <td>{{ sub_category }}</td>
            <td>{{ desp }}</td>
            <td>{{ total_amount | round(2) }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<p>No data available for the selected sub-category.</p>
{% endif %}

<!-- Dropdown Filter Form3 -->
<form method="GET" action="{{ url_for('category_summary') }}" class="mb-3">
    <label for="sub_category">Filter by Sub-Category - Investment:</label>
    <select name="sub_category" id="sub_category" class="form-select">
        {% for category in sub_categories3 %}
        <option value="{{ category }}" {% if category == selected_sub_category3 %}selected{% endif %}>
            {{ category }}
        </option>
        {% endfor %}
    </select>
    <button type="submit" class="btn btn-primary mt-2">Filter</button>
</form>

{% if sub_cat_des_summary3 %}
<table class="table table-bordered table-hover">
    <thead>
        <tr>
            <th scope="col">Sub-Category</th>
            <th scope="col">Description</th>
            <th scope="col">Total Amount</th>
        </tr>
    </thead>
    <tbody>
        {% for sub_category, desp, total_amount in sub_cat_des_summary3 %}
        <tr>
            <td>{{ sub_category }}</td>
            <td>{{ desp }}</td>
            <td>{{ total_amount | round(2) }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<p>No data available for the selected sub-category.</p>
{% endif %}

<!-- Dropdown Filter Form4 -->
<form method="GET" action="{{ url_for('category_summary') }}" class="mb-3">
    <label for="sub_category">Filter by Sub-Category - Income:</label>
    <select name="sub_category" id="sub_category" class="form-select">
        {% for category in sub_categories4 %}
        <option value="{{ category }}" {% if category == selected_sub_category4 %}selected{% endif %}>
            {{ category }}
        </option>
        {% endfor %}
    </select>
    <button type="submit" class="btn btn-primary mt-2">Filter</button>
</form>

{% if sub_cat_des_summary4 %}
<table class="table table-bordered table-hover">
    <thead>
        <tr>
            <th scope="col">Sub-Category</th>
            <th scope="col">Description</th>
            <th scope="col">Total Amount</th>
        </tr>
    </thead>
    <tbody>
        {% for sub_category, desp, total_amount in sub_cat_des_summary4 %}
        <tr>
            <td>{{ sub_category }}</td>
            <td>{{ desp }}</td>
            <td>{{ total_amount | round(2) }}</td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<p>No data available for the selected sub-category.</p>
{% endif %}